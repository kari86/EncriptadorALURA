<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="encriptador.css">
    <title>Encriptador</title>
</head>

<body>
<header>
    <!-- para iniciar se deben insertar los 3 botones (encritar,desencriptar y copiar) 
    más un input type donde se cargará el mensaje a encriptar y un label en donde 
    se cargara la respuesta;
    onclick sirve para llamar al  button y hacerlo funcionar en java script -->

    <div class="container-main">
        
        
        
        <div class="head">
            <img class="head-img" src="/imagen/gatito.png" alt="">
            <p class="head-tittle"> Gato Encriptador</p>
        </div>
        




        <div class="box1">

            <textarea type="text" placeholder="Ingrese" class="entrada" id="entrada"></textarea>

            <input type="button" onclick="encriptar()" value="encriptar" class="encriptar">
        </div>
        


        <div class="box2">

            <div class="box2-left">
                <div class="msg"> 
                    <textarea for="MENSAJE" id="mensaje"></textarea>
                 </div>
            </div>
            
            
            <div class="box2-right">
                <input type="button" onclick="desencriptar()" value="desencriptar" class="desencriptar">
                <input type="button" onclick="copiar()" value="copiar" class="copiar">
            </div>
        </div>

    </div>
</header>




<main>

    <script>
        /*se crea una funtion para encriptar el mensaje, para ello se consigue de forma
         traducidad el mensaje que se introdujo(respuesta/label) y se le aplica un for en 
         el cual se va recorrer caracter por caracter hasta terminar con todos, y se le aplicara
         una condicion para evaluarla, si cumple  con la condicion cambia sino se le aplica un else,
          hasta terminar con cada una de las condiciones
          e        enter
          i        imes
          a        ai
          o        obert
          u        ufat
          en caso de no ser ninguna vocal, el caracter se mantiene
        */

        function encriptar() {
            document.getElementById('mensaje').innerHTML = "";
            var contenido = document.getElementsByClassName("entrada")[0].value;
            /* alert(contenido);*/
            for (var i = 0; i < contenido.length; i++) {
                // console.log(contenido[i])
                if (contenido[i] == 'a') {
                    //console.log("ai");
                    document.getElementById('mensaje').innerHTML += "ai";
                } else {
                    if (contenido[i] == 'e') {
                        //console.log("enter");
                        document.getElementById('mensaje').innerHTML += "enter";
                    } else {
                        if (contenido[i] == 'i') {
                            // console.log("imes");
                            document.getElementById('mensaje').innerHTML += "imes";
                        } else {
                            if (contenido[i] == 'o') {
                                // console.log("obert");
                                document.getElementById('mensaje').innerHTML += "obert";
                            } else {
                                if (contenido[i] == 'u') {
                                    //console.log("ufat");
                                    document.getElementById('mensaje').innerHTML += "ufat";
                                } else {
                                    //console.log(contenido[i]);
                                    document.getElementById('mensaje').innerHTML += contenido[i];
                                }
                            }
                        }
                    }
                }

            }
        }

        /* para el bton de desencriptar perimero se consigue el elemento de respuesta label (mensaje) 
        y  el elemento clase llamado entrada;
        luego se aplica un for, sin embargo en esta condicion es mas complejo, ya que la tarea ahora es hacer 
        que if , la condicion identifique cuando se encripto un caracter, es decir lo contrario al caso anterior,
        para ello  la condicion if identifica si el primer caracter es la letra inicial de la palabra que encripta 
        una vocal, el segundo if identifica si la segunda letra   es el siguiente caracter, y con ayuda de  operadores
        relacionador https://www.ibm.com/docs/es/spss-statistics/saas?topic=expressions-logical-operators o operadores de AND & OR
        se aplico en el mismo if la condicion de identificar todos los caracteres de la palabras e identicar si se cumple o no la
        condicion, finalmente  se agrega una condion que indica que terminando de evaluar la palabre que encripta una vocal de
         un salto sobre estos caracteres
        */

        function desencriptar() {
            document.getElementById('mensaje').innerHTML = "";
            var texto = document.getElementsByClassName("entrada")[0].value;
            for (var i = 0; i < texto.length; i++) {
                if (texto[i] == 'a') {
                    if (texto[i + 1] == 'i') {
                        document.getElementById('mensaje').innerHTML += "a";
                        i = i + 1;
                    }
                } else {
                    if (texto[i] == 'e') {
                        if (texto[i + 1] == 'n' && texto[i + 2] == 't' && texto[i + 3] == 'e' && texto[i + 4] == 'r') {
                            document.getElementById('mensaje').innerHTML += "e";
                            i = i + 4;
                        }

                    } else {
                        if (texto[i] == 'i') {
                            if (texto[i + 1] == 'm' && texto[i + 2] == 'e' && texto[i + 3] == 's') {
                                document.getElementById('mensaje').innerHTML += "i";
                                i = i + 3;
                            }

                        } else {
                            if (texto[i] == 'o') {
                                if (texto[i + 1] == 'b' && texto[i + 2] == 'e' && texto[i + 3] == 'r' && texto[i + 4] == 't') {
                                    document.getElementById('mensaje').innerHTML += "o";
                                    i = i + 4;
                                }

                            } else {
                                if (texto[i] == 'u') {
                                    if (texto[i + 1] == 'f' && texto[i + 2] == 'a' && texto[i + 3] == 't') {
                                        document.getElementById('mensaje').innerHTML += "u";
                                        i = i + 3;
                                    }
                                } else {
                                    document.getElementById('mensaje').innerHTML += texto[i];
                                }
                            }
                        }
                    }
                }

            }
        }
        /*
        para hacer funcionar el boton de copiar lo unico que se hace es 
        conseguir el elemneto id llamdo mensaje (resultado/label),
        y por otro lado el recuadro de entrada de mensaje dejarlo en blanco para ingresar un nuevo dato
        finalmente se envia el elemnto copiado(mensaje/label)
        a la bandeja de entrada de mensaje.
        */
        function copiar() {
            var mensaje = document.getElementById('mensaje').textContent;
            document.getElementById('entrada').value = "";
            document.getElementById('entrada').value = mensaje;

        }

    </script>
    </main>
    <footer>
        <img class="gat" src="imagen/gatito.png" alt="Logo de Mi Primer Encriptador" width="10%">
        <p class="textodepiedepagina"> &copy Copyright Mi Primer Encriptador-2023</p>

    </footer>
</body>

</html>